{% extends 'base.html' %}

{% block content %}
    <h1>Add an Item</h1>

    <form class = "item_form" action="{% url 'stokkapp:user_item_list'  %}" method="post">
    {% csrf_token %}
        {% if book.id is not None %}
        <h4>Add a new Item</h4>
        <input class = "makeItNew" type = "hidden" value="false">
        <input type="hidden" name="new_item" value="True">
        <fieldset>
            <label for="size">Size: </label>
            <input id="size" type="text" name="size" value="{{item.size}}">
        </fieldset>
        <fieldset>
            <label for="size">Size: </label>
            <input id="size" type="text" name="size" value="{{item.size}}">
        </fieldset>
        <fieldset>
            <label for="size">Size: </label>
            <input id="size" type="text" name="size" value="{{item.size}}">
        </fieldset>
        {% else %}
        <fieldset>
            <input type ="button" id = "new_item" value = "New Item">
            <label for="item">Item: </label>
            <select id="item" type="text" name="item">
                    {% for item in all_items %}
                        <option  value="{{ item.id }}">{{ item.name }}</option>
                    {% endfor %}
            </select>
        </fieldset>
        {% endif %}
        <fieldset>
            <label for="size">Size: </label>
            <input id="size" type="text" name="size" value="{{item.size}}">
        </fieldset>
        <fieldset>
            <label for="quantity">Quantity: </label>
            <input id="quantity" type="number" name="quantity" value="{{item.quantity}}">
        </fieldset>
        <fieldset>
            <label for="expiration">Expiration Date: </label>
            <input id="expiration" type="date" name="expiration" value="{{item.expiration}}">
        </fieldset>
        <fieldset>
            <label for="category">Category: </label>
            <select id="category" type="text" name="category">
                {% for category in all_categories %}
                    <option {%  value="{{ category.id }}">{{ category.name }}</option>
                {% endfor %}
            </select>
        </fieldset>
        <fieldset>
            <label for="location">Location: </label>
            <select id="location" type="text" name="location">
                {% for location in all_locations %}
                    <option {%  value="{{ location.id }}">{{ location.name }}</option>
                {% endfor %}
            </select>
        </fieldset>
        <fieldset>
            <label for="store">Store: </label>
            <select id="store" type="text" name="store">
                {% for store in all_stores %}
                    <option {%  value="{{ store.id }}">{{ store.name }}</option>
                {% endfor %}
            </select>
        </fieldset>
        <input type="submit" value="Submit" />
    </form>
{% endblock %}

{% block scripts %}
    <script src="{% static 'scripts/form.js' %}"></script>
{% endblock %}
    {% comment %} {% if book.id is not None %}
        <form action="{% url 'libraryapp:book' book.id %}" method="post">
          <input type="hidden" name="actual_method" value="PUT">
    {% else %}
        <form action="{% url 'libraryapp:books' %}" method="post">
    {% endif %}
      {% csrf_token %}
      <fieldset>
          <label for="title">Title: </label>
          <input id="title" type="text" name="title" value="{{book.title}}">
      </fieldset>
      <fieldset>
          <label for="author">Author: </label>
          <input id="author" type="text" name="author" value="{{book.author}}">
      </fieldset>
      <fieldset>
          <label for="year_published">Year of publication: </label>
          <input id="year_published" type="number" name="year_published" value="{{book.year_published}}">
      </fieldset>
      <fieldset>
          <label for="isbn">ISBN: </label>
          <input id="isbn" type="text" name="isbn" value="{{book.isbn}}">
      </fieldset>
      <fieldset>
          <label for="publisher">Publisher: </label>
          <input id="publisher" type="text" name="publisher"  value="{{book.publisher}}">
      </fieldset>
      <fieldset>
          <label for="location">Library: </label>
          <select id="location" type="text" name="location">
                {% for library in all_libraries %}
                    <option {% if library.id == book.location_id %}selected{% endif %} value="{{ library.id }}">{{ library.name }}</option>
                {% endfor %}
          </select>
      </fieldset>

      <input type="submit" value="Submit" />
    </form> {% endcomment %}
